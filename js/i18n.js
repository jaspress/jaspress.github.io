/* ============================================================
   JSAS i18n – Internationalization (ZH / EN)
   ============================================================ */
(function () {
  "use strict";

  var STORAGE_KEY = "jsas_lang";

  var translations = {
    zh: {
      "nav.home": "首页",
      "nav.articles": "文章",
      "nav.about": "关于期刊",
      "nav.submit": "投稿",
      "nav.contact": "联系",
      "banner.submit": "现已开放投稿",
      "banner.latest": "最新一期：第3卷第1期 (2026)",
      "hero.tag": "同行评审 · 开放获取",
      "hero.title": "SCP基金会异常科学学报",
      "hero.subtitle": "Journal of SCP Anomalous Sciences (JSAS)",
      "hero.desc": "由SCP异常科学研究院主办，发表异常现象、跨维度物理学、生物异常学、记忆信息学及相关领域的高水准原创研究，推动人类对未知边界的科学认知。",
      "hero.btn.articles": "浏览全部文章",
      "hero.btn.about": "了解期刊",
      "stat.articles": "已发表文章",
      "stat.editors": "编委会成员",
      "stat.institutes": "参与研究院",
      "stat.downloads": "月均下载量",
      "stat.volumes": "已出版卷次",
      "section.latest": "最新发表文章",
      "sidebar.current_issue": "当前期次",
      "sidebar.archive": "历史期次",
      "sidebar.announcements": "公告",
      "sidebar.article_types": "文章类型",
      "footer.navigation": "导航",
      "footer.research_areas": "研究方向",
      "footer.services": "服务",
      "page.articles.title": "文章",
      "page.articles.desc": "浏览 SCP异常科学学报 全部已发表文章",
      "page.about.title": "关于期刊",
      "page.about.desc": "SCP基金会异常科学学报 (JSAS) — 宗旨、范围与编委会",
      "page.submit.title": "投稿指南",
      "page.submit.desc": "在提交稿件前，请仔细阅读以下要求与流程说明",
      "page.contact.title": "联系我们",
      "page.contact.desc": "SCP异常科学研究院编辑部联系方式与常见问题",
      "indexed.label": "收录数据库 / Indexed in:",
      "type.research": "研究论文",
      "type.review": "综述文章",
      "type.case": "案例报告",
      "type.letter": "研究快报",
      "sidebar.issue.vol": "第3卷第1期",
      "sidebar.issue.date": "2026年2月 · 8篇文章",
      "sidebar.browse_issue": "浏览本期文章",
      "sidebar.archive.v24": "第2卷第4期 (2025)",
      "sidebar.archive.v23": "第2卷第3期 (2025)",
      "sidebar.archive.v22": "第2卷第2期 (2025)",
      "sidebar.archive.v21": "第2卷第1期 (2025)",
      "sidebar.archive.v1": "第1卷 (2024)",
      "sidebar.archive.cnt12": "12篇",
      "sidebar.archive.cnt10": "10篇",
      "sidebar.archive.cnt11": "11篇",
      "sidebar.archive.cnt9": "9篇",
      "sidebar.archive.cnt34": "34篇",
      "sidebar.ann1.title": "2026年第2期征稿截止日：3月31日",
      "sidebar.ann2.title": "特刊：时间异常专题 开放投稿",
      "sidebar.ann3.title": "本刊已完成 CrossRef DOI 注册，Google Scholar 收录进行中",
      "sidebar.ann4.title": "新增AI辅助同行评审流程说明",
      "sidebar.type.research": "研究论文 (Original Research)",
      "sidebar.type.review": "综述文章 (Review Article)",
      "sidebar.type.case": "案例报告 (Case Report)",
      "sidebar.type.letter": "研究快报 (Letter)",
      "sidebar.type.methods": "方法学报告 (Methods)",
      "sidebar.type.commentary": "评述 (Commentary)",
      "btn.all_articles": "查看全部文章 →",
      "filter.type": "类型：",
      "filter.year": "年份：",
      "filter.all": "全部",
      "filter.research": "研究论文",
      "filter.review": "综述文章",
      "filter.case": "案例报告",
      "filter.letter": "研究快报",
      "vol.3": "第3卷 (2026)",
      "vol.2": "第2卷 (2025)",
      "vol.1": "第1卷 (2024)",
      "pagination.next": "下一页 →",
      "breadcrumb.articles": "文章",
      "breadcrumb.about": "关于期刊",
      "breadcrumb.submit": "投稿指南",
      "breadcrumb.contact": "联系我们",
      "footer.nav.submit_guide": "投稿指南",
      "footer.nav.contact_us": "联系我们",
      "footer.area.physics": "异常物理学",
      "footer.area.biology": "生物异常学",
      "footer.area.cognition": "认知信息异常",
      "footer.area.dimensional": "跨维度研究",
      "footer.area.containment": "收容科学",
      "footer.area.temporal": "时间异常学",
      "footer.area.quantum": "量子拓扑异常",
      "footer.area.infotech": "异常信息技术",
      "footer.svc.submit": "在线投稿",
      "footer.svc.board": "编委会",
      "footer.svc.review": "同行评审政策",
      "footer.svc.ethics": "伦理声明",
      "footer.svc.copyright": "版权政策",
      "footer.about.text": "Journal of SCP Anomalous Sciences (JSAS) 由SCP异常科学研究院主办，致力于在严格的同行评审框架下推动异常科学领域的学术交流与知识积累。本刊采用开放获取政策，所有文章在发表后可免费获取全文。",
      "footer.copyright": "© 2024–2026 SCP异常科学研究院. 保留所有权利.",
      "footer.privacy": "隐私政策",
      "footer.terms": "使用条款",
      "footer.contact_link": "联系",
      "submit.sidebar.dates": "重要日期",
      "submit.sidebar.timeline": "审稿时间线",
      "submit.sidebar.fee": "版面费政策",
      "submit.sidebar.questions": "有疑问？",
      "submit.sidebar.templates": "下载模板",
      "submit.btn": "提 交 稿 件",
      "contact.btn": "提 交",
      "about.section.mission": "办刊宗旨",
      "about.section.info": "基本信息",
      "about.section.pub": "出版信息",
      "about.section.scope": "研究范围",
      "about.section.board": "编委会",
      "about.board.chief": "主编",
      "about.board.assoc": "副主编",
      "about.board.members": "编委会委员",
      "indexed.pending": "申请中"
    },
    en: {
      "nav.home": "Home",
      "nav.articles": "Articles",
      "nav.about": "About",
      "nav.submit": "Submit",
      "nav.contact": "Contact",
      "banner.submit": "Now Accepting Submissions",
      "banner.latest": "Latest Issue: Vol.3 No.1 (2026)",
      "hero.tag": "Peer-Reviewed · Open Access",
      "hero.title": "Journal of SCP Anomalous Sciences",
      "hero.subtitle": "SCP基金会异常科学学报 (JSAS)",
      "hero.desc": "Published by the SCP Institute of Anomalous Sciences, advancing high-quality original research in anomalous phenomena, trans-dimensional physics, biological anomalics, and cognito-informatic hazards.",
      "hero.btn.articles": "Browse All Articles",
      "hero.btn.about": "About the Journal",
      "stat.articles": "Published Articles",
      "stat.editors": "Editorial Board",
      "stat.institutes": "Partner Institutes",
      "stat.downloads": "Monthly Downloads",
      "stat.volumes": "Volumes Published",
      "section.latest": "Latest Articles",
      "sidebar.current_issue": "Current Issue",
      "sidebar.archive": "Archive",
      "sidebar.announcements": "Announcements",
      "sidebar.article_types": "Article Types",
      "footer.navigation": "Navigation",
      "footer.research_areas": "Research Areas",
      "footer.services": "Services",
      "page.articles.title": "Articles",
      "page.articles.desc": "Browse all published articles in the Journal of SCP Anomalous Sciences",
      "page.about.title": "About the Journal",
      "page.about.desc": "Journal of SCP Anomalous Sciences (JSAS) — Mission, Scope & Editorial Board",
      "page.submit.title": "Submission Guidelines",
      "page.submit.desc": "Please read all requirements and instructions carefully before submitting",
      "page.contact.title": "Contact Us",
      "page.contact.desc": "Editorial Office Contact Information & FAQ",
      "indexed.label": "Indexed in:",
      "type.research": "Original Research",
      "type.review": "Review Article",
      "type.case": "Case Report",
      "type.letter": "Research Letter",
      "sidebar.issue.vol": "Vol. 3 No. 1",
      "sidebar.issue.date": "February 2026 · 8 Articles",
      "sidebar.browse_issue": "Browse This Issue",
      "sidebar.archive.v24": "Vol. 2 No. 4 (2025)",
      "sidebar.archive.v23": "Vol. 2 No. 3 (2025)",
      "sidebar.archive.v22": "Vol. 2 No. 2 (2025)",
      "sidebar.archive.v21": "Vol. 2 No. 1 (2025)",
      "sidebar.archive.v1": "Vol. 1 (2024)",
      "sidebar.archive.cnt12": "12 articles",
      "sidebar.archive.cnt10": "10 articles",
      "sidebar.archive.cnt11": "11 articles",
      "sidebar.archive.cnt9": "9 articles",
      "sidebar.archive.cnt34": "34 articles",
      "sidebar.ann1.title": "Submission deadline for Issue 2, 2026: March 31",
      "sidebar.ann2.title": "Special Issue: Temporal Anomalics — Now Open for Submissions",
      "sidebar.ann3.title": "CrossRef DOI registration complete; Google Scholar indexing in progress",
      "sidebar.ann4.title": "AI-assisted peer review process — new guidelines published",
      "sidebar.type.research": "Original Research",
      "sidebar.type.review": "Review Article",
      "sidebar.type.case": "Case Report",
      "sidebar.type.letter": "Research Letter",
      "sidebar.type.methods": "Methods",
      "sidebar.type.commentary": "Commentary",
      "btn.all_articles": "View All Articles →",
      "filter.type": "Type:",
      "filter.year": "Year:",
      "filter.all": "All",
      "filter.research": "Original Research",
      "filter.review": "Review Article",
      "filter.case": "Case Report",
      "filter.letter": "Research Letter",
      "vol.3": "Volume 3 (2026)",
      "vol.2": "Volume 2 (2025)",
      "vol.1": "Volume 1 (2024)",
      "pagination.next": "Next →",
      "breadcrumb.articles": "Articles",
      "breadcrumb.about": "About the Journal",
      "breadcrumb.submit": "Submission Guidelines",
      "breadcrumb.contact": "Contact Us",
      "footer.nav.submit_guide": "Submission Guidelines",
      "footer.nav.contact_us": "Contact Us",
      "footer.area.physics": "Anomalous Physics",
      "footer.area.biology": "Biological Anomalics",
      "footer.area.cognition": "Cognitive Anomalics",
      "footer.area.dimensional": "Trans-Dimensional Research",
      "footer.area.containment": "Containment Science",
      "footer.area.temporal": "Temporal Anomalics",
      "footer.area.quantum": "Quantum Topological Anomalics",
      "footer.area.infotech": "Anomalous Info Technology",
      "footer.svc.submit": "Online Submission",
      "footer.svc.board": "Editorial Board",
      "footer.svc.review": "Peer Review Policy",
      "footer.svc.ethics": "Ethics Statement",
      "footer.svc.copyright": "Copyright Policy",
      "footer.about.text": "Journal of SCP Anomalous Sciences (JSAS), published by the SCP Institute of Anomalous Sciences, is dedicated to advancing academic exchange in anomalous science under a rigorous peer-review framework. All articles are freely accessible after publication under our open access policy.",
      "footer.copyright": "© 2024–2026 SCP Institute of Anomalous Sciences. All rights reserved.",
      "footer.privacy": "Privacy Policy",
      "footer.terms": "Terms of Use",
      "footer.contact_link": "Contact",
      "submit.sidebar.dates": "Important Dates",
      "submit.sidebar.timeline": "Review Timeline",
      "submit.sidebar.fee": "APC Policy",
      "submit.sidebar.questions": "Questions?",
      "submit.sidebar.templates": "Download Templates",
      "submit.btn": "Submit Manuscript",
      "contact.btn": "Submit",
      "about.section.mission": "Mission",
      "about.section.info": "Journal Information",
      "about.section.pub": "Publication Details",
      "about.section.scope": "Scope",
      "about.section.board": "Editorial Board",
      "about.board.chief": "Editor-in-Chief",
      "about.board.assoc": "Associate Editors",
      "about.board.members": "Editorial Board Members",
      "indexed.pending": "pending"
    }
  };

  function applyLang(lang) {
    var t = translations[lang] || translations.zh;
    document.querySelectorAll("[data-i18n]").forEach(function (el) {
      var key = el.getAttribute("data-i18n");
      if (t[key] !== undefined) el.textContent = t[key];
    });
    document.querySelectorAll("[data-i18n-placeholder]").forEach(function (el) {
      var key = el.getAttribute("data-i18n-placeholder");
      if (t[key] !== undefined) el.setAttribute("placeholder", t[key]);
    });
    document.querySelectorAll("[data-i18n-aria]").forEach(function (el) {
      var key = el.getAttribute("data-i18n-aria");
      if (t[key] !== undefined) el.setAttribute("aria-label", t[key]);
    });
    document.documentElement.lang = lang === "en" ? "en" : "zh-CN";
    var btn = document.getElementById("lang-switch");
    if (btn) btn.textContent = lang === "en" ? "中" : "EN";
    localStorage.setItem(STORAGE_KEY, lang);
  }

  var savedLang = localStorage.getItem(STORAGE_KEY) || "zh";
  if (savedLang === "en") applyLang("en");

  document.addEventListener("DOMContentLoaded", function () {
    var btn = document.getElementById("lang-switch");
    if (!btn) return;
    var currentLang = localStorage.getItem(STORAGE_KEY) || "zh";
    btn.textContent = currentLang === "en" ? "中" : "EN";
    btn.addEventListener("click", function () {
      var lang = localStorage.getItem(STORAGE_KEY) || "zh";
      applyLang(lang === "zh" ? "en" : "zh");
    });
  });
})();
